(this["webpackJsonpdat-stream-deck-configurator"]=this["webpackJsonpdat-stream-deck-configurator"]||[]).push([[0],[,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},,,function(e,t,a){},function(e,t,a){},,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var s=a(0),c=a(1),n=a.n(c),l=a(13),i=a.n(l),r=(a(19),a(2));function o(e){return e.version||"unversioned"}var d=a(3);var j={updateConfig:function(e){if(!function(e){return"cv1"===o(e)}(e))return e;if("unversioned"===o(e)){var t=e;return a=t,t=Object(d.a)({version:"cv1"},a)}var a}},b={controller:{startStateName:"init"},interface:{},states:[{name:"init",color:"#ffffff",keys:[{label:"C",keyData:{key:{name:"c"},ch:"c"},name:"Connect",actions:[{type:"connect",startStateName:"main"}]},{label:"X",keyData:{key:{name:"x"},ch:"x"},name:"Exit",actions:[{type:"exit"}]}]},{name:"main",color:"#ff0000",keys:[{label:"Backspace",keyData:{key:{name:"backspace"}},name:"Exit",actions:[{type:"exit"}]}]}]};var u=function e(t,a){var s=t||{},c=a||{};return Object.keys(s).length===Object.keys(c).length&&Object.keys(s).every((function(t){return typeof s[t]===typeof c[t]&&("object"===typeof s[t]?e(s[t],c[t]):s[t]===c[t])}))};var y=function(e){var t=[];return e.states.forEach((function(e){e.keys.forEach((function(a){var s=t.findIndex((function(e){return e.label===a.label}));-1!==s?t[s].states.push({state:e.name,color:e.color,name:a.name,actions:a.actions,keyData:a.keyData}):t.push(Object(d.a)(Object(d.a)({},a),{},{states:[{state:e.name,color:e.color,name:a.name,actions:a.actions,keyData:a.keyData}]}))}))})),t};var m=function(e){return e.states.map((function(e){return{name:e.name,color:e.color,keys:e.keys.length}}))};a(10);var f=function(){return Object(s.jsxs)("div",{className:"header-nametag-container",children:[Object(s.jsx)("div",{className:"header-nametag-line1",children:Object(s.jsx)("span",{children:"dat-stream-deck"})}),Object(s.jsx)("div",{className:"header-nametag-line2",children:Object(s.jsx)("span",{children:"configurator"})})]})};var O=function(){return Object(s.jsxs)("div",{className:"header-versiontag-container",children:[Object(s.jsx)("div",{className:"header-versiontag-line1",children:Object(s.jsx)("span",{children:"v0.1.1"})}),Object(s.jsx)("div",{className:"header-versiontag-line2",children:Object(s.jsx)("span",{children:"github.com/sohnojam"})})]})};var h=function(){return Object(s.jsx)("div",{className:"header",children:Object(s.jsxs)("div",{className:"header-container",children:[Object(s.jsx)(f,{}),Object(s.jsx)(O,{})]})})};a(20),a(4);var x=function(e){var t=e.newConfig,a=e.loadConfig,c=e.saveConfig,n=e.editInterface;return Object(s.jsxs)("div",{className:"states-c1",children:[Object(s.jsx)("div",{className:"states-file-button",onClick:function(){return t()},children:Object(s.jsx)("span",{children:"New config"})}),Object(s.jsxs)("label",{className:"states-file-button",children:[Object(s.jsx)("input",{className:"states-file-input-hidden",type:"file",accept:"file_extension,.json",onChange:function(e){return a(e.target.files&&e.target.files.length&&e.target.files[0]||null)}}),Object(s.jsx)("span",{children:"Load config"})]}),Object(s.jsx)("div",{className:"states-file-button",onClick:function(){return c()},children:Object(s.jsx)("span",{children:"Save config"})}),Object(s.jsx)("div",{className:"states-file-button",onClick:function(){return n()},children:Object(s.jsx)("span",{children:"Edit interface"})})]})};var S=function(){return Object(s.jsx)("div",{className:"states-c2-empty"})};var v=function(e){var t=e.interfaceConfig,a=e.states,l=e.saveInterface,i=e.cancel,o=Object(c.useState)(t&&t.interface&&t.interface.type||""),d=Object(r.a)(o,2),j=d[0],b=d[1],u=Object(c.useState)(t&&t.interface&&t.interface.type?"OBSS"===t.interface.type?t.interface.address&&t.interface.address.split(":").length>1?t.interface.address.split(":")[0]:"":"SLOBS"===t.interface.type&&t.interface.address&&t.interface.address.split(":").length>1?t.interface.address.split(":")[0].replace("http://",""):"":""),y=Object(r.a)(u,2),m=y[0],f=y[1],O=Object(c.useState)(t&&t.interface&&t.interface.type?"OBSS"===t.interface.type?t.interface.address&&t.interface.address.split(":").length>1?t.interface.address.split(":")[1]:"":"SLOBS"===t.interface.type&&t.interface.address&&t.interface.address.split(":").length>1?t.interface.address.split(":")[1].replace("/api",""):"":""),h=Object(r.a)(O,2),x=h[0],S=h[1],v=Object(c.useState)(t&&t.interface&&t.interface.type&&"OBSS"===t.interface.type&&t.interface.password||""),k=Object(r.a)(v,2),p=k[0],g=k[1],K=Object(c.useState)(t&&t.interface&&t.interface.type&&"SLOBS"===t.interface.type&&t.interface.token||""),N=Object(r.a)(K,2),C=N[0],w=N[1],D=Object(c.useState)(t&&t.controller&&t.controller.startStateName||""),A=Object(r.a)(D,2),F=A[0],T=A[1];return Object(s.jsx)("div",{className:"states-c2",children:Object(s.jsxs)("div",{className:"states-edit-form",children:[Object(s.jsx)("div",{className:"states-edit-form-header",children:Object(s.jsx)("div",{className:"states-edit-form-header-cancel",onClick:function(){return i()},children:Object(s.jsx)("span",{children:"Cancel"})})}),Object(s.jsx)("span",{className:"states-edit-form-label",children:"Type"}),Object(s.jsxs)("select",{className:"states-edit-form-input-text",onChange:function(e){return t=e.target.value,void b(t);var t},value:j,children:[Object(s.jsx)("option",{value:"",disabled:!0,children:"Select interface type"},"0"),Object(s.jsx)("option",{value:"OBSS",children:"OBS Studio"},"1"),Object(s.jsx)("option",{value:"SLOBS",children:"Streamlabs OBS"},"2")]}),Object(s.jsx)("span",{className:"states-edit-form-label",children:"Address (Local IP)"}),Object(s.jsx)("input",{className:"states-edit-form-input-text",type:"text",value:m,onChange:function(e){return t=e.target.value,void f(t);var t}}),Object(s.jsx)("span",{className:"states-edit-form-label",children:"Port"}),Object(s.jsx)("input",{className:"states-edit-form-input-text",type:"text",value:x,onChange:function(e){return t=e.target.value,void S(t);var t}}),"OBSS"===j?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("span",{className:"states-edit-form-label",children:"Password"}),Object(s.jsx)("input",{className:"states-edit-form-input-text",type:"password",value:p,onChange:function(e){return t=e.target.value,void g(t);var t}})]}):"SLOBS"===j?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("span",{className:"states-edit-form-label",children:"Token"}),Object(s.jsx)("input",{className:"states-edit-form-input-text",type:"password",value:C,onChange:function(e){return t=e.target.value,void w(t);var t}})]}):null,Object(s.jsx)("span",{className:"states-edit-form-label",children:"Start state"}),Object(s.jsxs)("select",{className:"states-edit-form-input-text",value:F,onChange:function(e){return t=e.target.value,void T(t);var t},children:[Object(s.jsx)("option",{value:"",disabled:!0,children:"Select start state"},"0"),a.map((function(e,t){return Object(s.jsx)("option",{value:e.name,children:e.name},t+1)}))]}),Object(s.jsx)("div",{className:"states-edit-form-footer",children:Object(s.jsx)("div",{className:"states-edit-form-footer-button",onClick:function(){l({type:j,address:"OBSS"===j?"".concat(m,":").concat(x):"SLOBS"===j?"http://".concat(m,":").concat(x,"/api"):"",password:"OBSS"===j?p:void 0,token:"SLOBS"===j?C:void 0},{startStateName:F})},children:Object(s.jsx)("span",{children:"Save"})})})]})})};var k=function(e){var t=e.states,a=e.selectedState,n=e.saveState,l=e.cancel,i=Object(c.useState)(a?t.find((function(e){return e.name===a})).name:""),o=Object(r.a)(i,2),d=o[0],j=o[1],b=Object(c.useState)(a?"custom":""),u=Object(r.a)(b,2),y=u[0],m=u[1],f=Object(c.useState)(a?t.find((function(e){return e.name===a})).color:""),O=Object(r.a)(f,2),h=O[0],x=O[1];return Object(s.jsx)("div",{className:"states-c2",children:Object(s.jsxs)("div",{className:"states-edit-form",children:[Object(s.jsx)("div",{className:"states-edit-form-header",children:Object(s.jsx)("div",{className:"states-edit-form-header-cancel",onClick:function(){return l()},children:Object(s.jsx)("span",{children:"Cancel"})})}),Object(s.jsx)("span",{className:"states-edit-form-label",children:"Name"}),Object(s.jsx)("input",{className:"states-edit-form-input-text",type:"text",disabled:!!a,value:d,onChange:function(e){return t=e.target.value,void j(t);var t}}),Object(s.jsx)("span",{className:"states-edit-form-label",children:"Color"}),Object(s.jsxs)("select",{className:"states-edit-form-input-text",onChange:function(e){return t=e.target.value,void m(t);var t},value:y,children:[Object(s.jsx)("option",{value:"",disabled:!0,children:"Select a color"},"0"),Object(s.jsx)("option",{value:"#ffffff",children:"White"},"1"),Object(s.jsx)("option",{value:"#000000",children:"Black"},"2"),Object(s.jsx)("option",{value:"#ff0000",children:"Red"},"3"),Object(s.jsx)("option",{value:"#00ff00",children:"Green"},"4"),Object(s.jsx)("option",{value:"#0000ff",children:"Blue"},"5"),Object(s.jsx)("option",{value:"#ffff00",children:"Yellow"},"6"),Object(s.jsx)("option",{value:"#ff00ff",children:"Magenta"},"7"),Object(s.jsx)("option",{value:"#00ffff",children:"Cyan"},"8"),Object(s.jsx)("option",{value:"custom",children:"Custom color"},"9")]}),Object(s.jsx)("span",{className:"states-edit-form-label",children:"Custom color"}),Object(s.jsx)("input",{className:"states-edit-form-input-text",type:"text",disabled:"custom"!==y,value:h,onChange:function(e){return t=e.target.value,void x(t.length>0&&"#"!==t[0]?"#":t);var t}}),Object(s.jsx)("div",{className:"states-edit-form-footer",children:Object(s.jsx)("div",{className:"states-edit-form-footer-button",onClick:function(){n({name:d,color:"custom"===y?h:y})},children:Object(s.jsx)("span",{children:"Save"})})})]})})};var p=function(e){var t=e.states,a=e.selectedState,c=e.setSelectedState,n=e.editState,l=e.removeState;return Object(s.jsxs)("div",{className:"states-c3",children:[t.map((function(e,n){return Object(s.jsxs)("div",{className:"states-list-item".concat(e.name===a?" states-list-item-selected":""),onClick:function(){return c(a===e.name?null:e.name)},children:[Object(s.jsxs)("div",{className:"states-list-item-label",children:[Object(s.jsx)("div",{className:"states-list-item-circle",style:{backgroundColor:e.color,boxShadow:"0 0 4px 0 ".concat(e.color)}}),Object(s.jsx)("span",{className:"states-list-item-name",style:{color:e.color},children:e.name})]}),Object(s.jsx)("div",{className:"states-list-item-remove",onClick:function(){return l(t.findIndex((function(e){return e.name===a})))},children:"X"})]},"state".concat(n))})),Object(s.jsx)("div",{className:"states-list-bottom",children:Object(s.jsx)("div",{className:"states-list-button",onClick:function(){return n()},children:Object(s.jsx)("span",{children:a?"Edit state":"New state"})})})]})};var g=function(e){var t=e.newConfig,a=e.loadConfig,n=e.saveConfig,l=e.interfaceConfig,i=e.modifyInterface,o=e.states,d=e.selectedState,j=e.setSelectedState,b=e.addState,u=e.modifyState,y=e.removeState,m=Object(c.useState)(!1),f=Object(r.a)(m,2),O=f[0],h=f[1];return Object(s.jsxs)("div",{className:"states-container",children:[Object(s.jsx)(x,{newConfig:t,loadConfig:a,saveConfig:n,editInterface:function(){return"state"===O?window.confirm("This will discard any changes made to the state. Are you sure you want to do this?")&&h("interface"):h("interface")}}),"state"===O?Object(s.jsx)(k,{states:o,selectedState:d,saveState:function(e){d?window.confirm("This will overwrite the state. Are you sure you want to do this?")&&(u(d,e),h("")):(b(e),h(""))},cancel:function(){return window.confirm("This will discard any changes made to the state. Are you sure you want to do this?")&&h("")}}):"interface"===O?Object(s.jsx)(v,{interfaceConfig:l,states:o,saveInterface:function(e,t){i(e,t),h("")},cancel:function(){return window.confirm("This will discard any changes made to the interface. Are you sure you want to do this?")&&h("")}}):Object(s.jsx)(S,{}),Object(s.jsx)(p,{states:o,selectedState:d,setSelectedState:j,editState:function(){return"interface"===O?window.confirm("This will discard any changes made to the interface. Are you sure you want to do this?")&&h("state"):h("state")},removeState:function(e){window.confirm("This will permanently delete the state. Any Switch State actions pointing to this state will cease to work. Are you sure you want to do this?")&&y(e)}})]})};a(11);var K=function(e){var t=e.special,a=e.label,c=e.keyData,n=e.keys,l=e.selectedState,i=e.selectedKey,r=e.setSelectedKey,o=n.find((function(e){return e.label===a})),d=[];return o&&(d=l?o.states.filter((function(e){return e.state===l})):o.states),Object(s.jsxs)("div",{className:"key".concat(i&&a===i.label?" key-selected":"").concat(t?" ".concat(t):""),onClick:function(){return r({label:a,keyData:c})},children:[Object(s.jsx)("div",{className:"key-label",children:a}),Object(s.jsx)("div",{className:"key-state-container",children:o?d.map((function(e,t){return Object(s.jsx)("div",{className:"key-state-circle",style:{backgroundColor:e.color||"#000000",boxShadow:"0 0 3px 0 ".concat(e.color||"#000000")}},"key".concat(a,"s").concat(t))})):null})]})};var N=function(e){var t=e.length;return Object(s.jsx)("div",{style:{gridColumn:"span ".concat(t)}})};var C=function(e){var t=e.keys,a=e.selectedState,c=e.selectedKey,n=e.setSelectedKey;return Object(s.jsxs)("div",{className:"keyboard",children:[Object(s.jsx)(K,{label:"Esc",keyData:{key:{name:"escape"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(N,{length:"5"}),Object(s.jsx)(K,{label:"F1",keyData:{key:{name:"f1"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"F2",keyData:{key:{name:"f2"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"F3",keyData:{key:{name:"f3"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"F4",keyData:{key:{name:"f4"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(N,{length:"3"}),Object(s.jsx)(K,{label:"F5",keyData:{key:{name:"f5"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"F6",keyData:{key:{name:"f6"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"F7",keyData:{key:{name:"f7"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"F8",keyData:{key:{name:"f8"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(N,{length:"3"}),Object(s.jsx)(K,{label:"F9",keyData:{key:{name:"f9"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"F10",keyData:{key:{name:"f10"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"F11",keyData:{key:{name:"f11"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"F12",keyData:{key:{name:"f12"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"~",keyData:{ch:"`"},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"1",keyData:{ch:"1"},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"2",keyData:{ch:"2"},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"3",keyData:{ch:"3"},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"4",keyData:{ch:"4"},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"5",keyData:{ch:"5"},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"6",keyData:{ch:"6"},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"7",keyData:{ch:"7"},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"8",keyData:{ch:"8"},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"9",keyData:{ch:"9"},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"0",keyData:{ch:"0"},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"-",keyData:{ch:"-"},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"=",keyData:{ch:"="},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"Backspace",special:"back",keyData:{key:{name:"backspace"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"Tab",special:"tab",keyData:{key:{name:"tab"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"Q",keyData:{ch:"q",key:{name:"q"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"W",keyData:{ch:"w",key:{name:"w"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"E",keyData:{ch:"e",key:{name:"e"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"R",keyData:{ch:"r",key:{name:"r"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"T",keyData:{ch:"t",key:{name:"t"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"Y",keyData:{ch:"y",key:{name:"y"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"U",keyData:{ch:"u",key:{name:"u"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"I",keyData:{ch:"i",key:{name:"i"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"O",keyData:{ch:"o",key:{name:"o"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"P",keyData:{ch:"p",key:{name:"p"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"[",keyData:{ch:"["},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"]",keyData:{ch:"]"},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"\\",special:"or",keyData:{ch:"\\"},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(N,{length:"10"}),Object(s.jsx)(K,{label:"A",keyData:{ch:"a",key:{name:"a"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"S",keyData:{ch:"s",key:{name:"s"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"D",keyData:{ch:"d",key:{name:"d"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"F",keyData:{ch:"f",key:{name:"f"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"G",keyData:{ch:"g",key:{name:"g"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"H",keyData:{ch:"h",key:{name:"h"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"J",keyData:{ch:"j",key:{name:"j"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"K",keyData:{ch:"k",key:{name:"k"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"L",keyData:{ch:"l",key:{name:"l"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:";",keyData:{ch:";"},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"'",keyData:{ch:"'"},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"Enter",special:"enter",keyData:{key:{name:"return"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(N,{length:"13"}),Object(s.jsx)(K,{label:"Z",keyData:{ch:"z",key:{name:"z"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"X",keyData:{ch:"x",key:{name:"x"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"C",keyData:{ch:"c",key:{name:"c"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"V",keyData:{ch:"v",key:{name:"v"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"B",keyData:{ch:"b",key:{name:"b"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"N",keyData:{ch:"n",key:{name:"n"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"M",keyData:{ch:"m",key:{name:"m"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:",",keyData:{ch:","},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:".",keyData:{ch:"."},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(K,{label:"/",keyData:{ch:"/"},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(N,{length:"13"}),Object(s.jsx)(N,{length:"6"}),Object(s.jsx)(N,{length:"6"}),Object(s.jsx)(N,{length:"6"}),Object(s.jsx)(K,{label:"Space",special:"space",keyData:{key:{name:"space"}},keys:t,selectedState:a,selectedKey:c,setSelectedKey:n}),Object(s.jsx)(N,{length:"6"}),Object(s.jsx)(N,{length:"6"}),Object(s.jsx)(N,{length:"6"}),Object(s.jsx)(N,{length:"6"})]})};a(5);var w=function(e){var t=e.selectedKey,a=e.assignment,c=e.editAssignment;return Object(s.jsxs)("div",{className:"selected-assignment-container",onClick:function(){return c()},children:[Object(s.jsxs)("div",{className:"selected-assignment-header",children:[Object(s.jsx)("div",{className:"selected-assignment-header-circle",style:{backgroundColor:a.color||"#000000",boxShadow:"0 0 5px 0 ".concat(a.color||"#000000")}}),Object(s.jsxs)("div",{className:"selected-assignment-header-text",style:{color:a.color||"#000000"},children:[Object(s.jsx)("span",{className:"selected-assignment-header-text-line1",children:a.name||"Assignment"}),Object(s.jsxs)("span",{className:"selected-assignment-header-text-line2",children:[a.state||"State"," - ",t.label]})]})]}),Object(s.jsx)("div",{className:"selected-assignment-actions",children:a.actions.map((function(e,c){return Object(s.jsx)("div",{className:"selected-assignment-actions-line",children:Object(s.jsx)("span",{className:"selected-assignment-actions-type",style:{color:a.color||"#000000"},children:e.type})},"".concat(t.label,"assign").concat(a.state,"act").concat(c))}))})]})};var D=function(e){var t=e.newAssignment;return Object(s.jsx)("div",{className:"selected-newassignment-container",onClick:function(){return t()},children:"Add new"})},A=a(12);a(7);var F=function(e){var t=e.states,a=e.name,c=e.onChangeNameInput,n=e.state,l=e.onChangeStateInput,i=e.disableStateInput;return e.color,Object(s.jsxs)("div",{className:"edit-assignment-form-body-c1",children:[Object(s.jsx)("span",{className:"edit-assignment-form-label",children:"Assignment name"}),Object(s.jsx)("input",{className:"edit-assignment-form-input-text",type:"text",onChange:function(e){return c(e.target.value)},value:a||""}),Object(s.jsx)("span",{className:"edit-assignment-form-label",children:"State"}),Object(s.jsxs)("select",{className:"edit-assignment-form-input-text",onChange:function(e){return l(e.target.value)},value:n||"",disabled:i,children:[Object(s.jsx)("option",{value:"",disabled:!0,children:"Select a state"}),t.map((function(e,t){return Object(s.jsx)("option",{value:e.name,children:e.name},"optionstate".concat(t))}))]})]})};var T=function(e){var t=e.actions,a=e.createAction,c=e.removeAction;return Object(s.jsxs)("div",{className:"edit-assignment-form-body-c2",children:[Object(s.jsx)("div",{className:"edit-assignment-action-list-container",children:t.map((function(e,t){return Object(s.jsxs)("div",{className:"edit-assignment-action-list-item",children:[Object(s.jsx)("span",{className:"edit-assignment-action-list-item-type",children:e.type}),Object.keys(e).filter((function(e){return"type"!==e})).map((function(t,a){return Object(s.jsx)("span",{className:"edit-assignment-action-list-item-arg",children:e[t]},"actionarg".concat(a))})),Object(s.jsx)("span",{onClick:function(){return c(t)},className:"edit-assignment-action-list-item-remove",children:"X"})]},"actionlist".concat(t))}))}),Object(s.jsx)("div",{className:"edit-assignment-action-list-bottom",children:Object(s.jsx)("div",{className:"edit-assignment-action-list-button",onClick:function(){return a()},children:Object(s.jsx)("span",{className:"edit-assignment-action-list-button-label",children:"Add action"})})})]})};var I=function(e){var t=e.addAction,a=e.cancelCreateAction,l=Object(c.useState)({type:""}),i=Object(r.a)(l,2),o=i[0],j=i[1];return Object(s.jsxs)("div",{className:"edit-assignment-form-body-c2",children:[Object.keys(o).map((function(e,t){return Object(s.jsx)(n.a.Fragment,{children:"type"===e?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("span",{className:"edit-assignment-form-label",children:"Action type"}),Object(s.jsxs)("select",{className:"edit-assignment-form-input-text",onChange:function(e){return function(e){switch(e){case"connect":j({type:"connect",startStateName:""});break;case"switchScene":j({type:"switchScene",sceneName:""});break;case"returnToStoredScene":j({type:"returnToStoredScene"});break;case"setSourceMute":j({type:"setSourceMute",sourceName:"",mute:null});break;case"setSourceVisibility":j({type:"setSourceVisibility",sceneName:"",sourceName:"",visible:""});break;case"setTransition":j({type:"setTransition",transitionName:""});break;case"setTransitionDuration":j({type:"setTransitionDuration",transitionDuration:0});break;case"switchState":j({type:"switchState",stateName:""});break;case"storeCurrentScene":j({type:"storeCurrentScene"});break;case"dropStoredScene":j({type:"dropStoredScene"});break;case"exit":j({type:"exit"})}}(e.target.value)},value:o[e],children:[Object(s.jsx)("option",{value:"",disabled:!0,children:"Select action type"},"0"),Object(s.jsx)("option",{value:"connect",children:"Connect"},"1"),Object(s.jsx)("option",{value:"switchScene",children:"Switch scene"},"2"),Object(s.jsx)("option",{value:"returnToStoredScene",children:"Return to stored scene"},"3"),Object(s.jsx)("option",{value:"setSourceMute",children:"Set source mute"},"4"),Object(s.jsx)("option",{value:"setSourceVisibility",children:"Set source visibility"},"5"),Object(s.jsx)("option",{value:"setTransition",children:"Set transition"},"6"),Object(s.jsx)("option",{value:"setTransitionDuration",children:"Set transition duration"},"7"),Object(s.jsx)("option",{value:"switchState",children:"Switch state"},"8"),Object(s.jsx)("option",{value:"storeCurrentScene",children:"Store current scene"},"9"),Object(s.jsx)("option",{value:"dropStoredScene",children:"Drop stored scene"},"10"),Object(s.jsx)("option",{value:"exit",children:"Exit"},"11")]})]}):"startStateName"===e?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("span",{className:"edit-assignment-form-label",children:"Start state"}),Object(s.jsx)("input",{className:"edit-assignment-form-input-text",type:"text",onChange:function(e){return j(Object(d.a)(Object(d.a)({},o),{},{startStateName:e.target.value}))},value:o[e]})]}):"sceneName"===e?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("span",{className:"edit-assignment-form-label",children:"Scene name"}),Object(s.jsx)("input",{className:"edit-assignment-form-input-text",type:"text",onChange:function(e){return j(Object(d.a)(Object(d.a)({},o),{},{sceneName:e.target.value}))},value:o[e]})]}):"sourceName"===e?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("span",{className:"edit-assignment-form-label",children:"Source name"}),Object(s.jsx)("input",{className:"edit-assignment-form-input-text",type:"text",onChange:function(e){return j(Object(d.a)(Object(d.a)({},o),{},{sourceName:e.target.value}))},value:o[e]})]}):"mute"===e?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("span",{className:"edit-assignment-form-label",children:"Set to"}),Object(s.jsxs)("select",{className:"edit-assignment-form-input-text",onChange:function(e){return j(Object(d.a)(Object(d.a)({},o),{},{mute:e.target.value}))},value:o[e],children:[Object(s.jsx)("option",{value:"",disabled:!0,children:"Select mute state"},"0"),Object(s.jsx)("option",{value:"true",children:"Muted"},"1"),Object(s.jsx)("option",{value:"false",children:"Unmuted"},"2")]})]}):"visible"===e?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("span",{className:"edit-assignment-form-label",children:"Set to"}),Object(s.jsxs)("select",{className:"edit-assignment-form-input-text",onChange:function(e){return j(Object(d.a)(Object(d.a)({},o),{},{visible:e.target.value}))},value:o[e],children:[Object(s.jsx)("option",{value:"",disabled:!0,children:"Select visible state"},"0"),Object(s.jsx)("option",{value:"true",children:"Visible"},"1"),Object(s.jsx)("option",{value:"false",children:"Invisible"},"2")]})]}):"transitionName"===e?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("span",{className:"edit-assignment-form-label",children:"Transition name"}),Object(s.jsx)("input",{className:"edit-assignment-form-input-text",type:"text",onChange:function(e){return j(Object(d.a)(Object(d.a)({},o),{},{transitionName:e.target.value}))},value:o[e]})]}):"transitionDuration"===e?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("span",{className:"edit-assignment-form-label",children:"Transition duration (ms)"}),Object(s.jsx)("input",{className:"edit-assignment-form-input-text",type:"text",onChange:function(e){return Number(e.target.value)&&j(Object(d.a)(Object(d.a)({},o),{},{transitionDuration:Number(e.target.value)}))},value:String(o[e])})]}):"stateName"===e?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("span",{className:"edit-assignment-form-label",children:"State name"}),Object(s.jsx)("input",{className:"edit-assignment-form-input-text",type:"text",onChange:function(e){return j(Object(d.a)(Object(d.a)({},o),{},{stateName:e.target.value}))},value:o[e]})]}):null},t)})),Object(s.jsxs)("div",{className:"edit-assignment-create-bottom",children:[Object(s.jsx)("div",{className:"edit-assignment-create-button",onClick:function(){return t(o)},children:Object(s.jsx)("span",{children:"Confirm"})}),Object(s.jsx)("div",{className:"edit-assignment-create-cancel",onClick:function(){return a()},children:Object(s.jsx)("span",{children:"Cancel"})})]})]})};var B=function(e){var t=e.states,a=e.selectedState,n=e.selectedKey,l=e.currentAssignment,i=e.cancelEditAssignment,o=e.addKey,d=e.modifyKey,j=e.removeKey,b=Object(c.useState)(l?l.name:""),u=Object(r.a)(b,2),y=u[0],m=u[1],f=Object(c.useState)(l?l.state:""),O=Object(r.a)(f,2),h=O[0],x=O[1],S=Object(c.useState)(l?l.color:a?t.find((function(e){return e.name===a})).color:""),v=Object(r.a)(S,2),k=v[0],p=v[1],g=Object(c.useState)(l?l.actions:[]),K=Object(r.a)(g,2),N=K[0],C=K[1],w=Object(c.useState)(!1),D=Object(r.a)(w,2),B=D[0],E=D[1];return Object(s.jsxs)("div",{className:"edit-assignment-form",children:[Object(s.jsxs)("div",{className:"edit-assignment-form-header",children:[Object(s.jsx)("span",{className:"edit-assignment-form-header-key",style:{color:k||"#a0a0a0"},children:l&&l.name?l.name+" ("+n.label+")":n.label}),Object(s.jsx)("div",{className:"edit-assignment-form-header-cancel",onClick:function(){return window.confirm("This will discard any changes made to the assignment. Are you sure you want to do this?")&&i()},children:Object(s.jsx)("span",{children:"Cancel"})})]}),Object(s.jsxs)("div",{className:"edit-assignment-form-body",children:[Object(s.jsx)(F,{states:t,name:y,onChangeNameInput:function(e){m(e)},state:h,onChangeStateInput:function(e){x(e),p(t.find((function(t){return t.name===e})).color)},disableStateInput:!!l,color:k}),B?Object(s.jsx)(I,{addAction:function(e){C([].concat(Object(A.a)(N),[e])),E(!1)},cancelCreateAction:function(){return E(!1)}}):Object(s.jsx)(T,{actions:N,createAction:function(){return E(!0)},removeAction:function(e){var t=Object(A.a)(N);t.splice(e,1),C(t)}})]}),Object(s.jsxs)("div",{className:"edit-assignment-form-footer",children:[Object(s.jsx)("div",{className:"edit-assignment-form-footer-button",onClick:function(){l?window.confirm("This will overwrite the previous assignment to this key on this state. Are you sure you want to do this?")&&(d(h,n,{name:y,state:h,color:k,actions:N}),i()):(o(h,n,{name:y,state:h,color:k,actions:N}),i())},children:Object(s.jsx)("span",{children:"Save"})}),Object(s.jsx)("div",{className:"edit-assignment-form-footer-remove",onClick:function(){window.confirm("This will permanently delete the assignment to this key on this state. Are you sure you want to do this?")&&(j(h,n),i())},children:Object(s.jsx)("span",{children:"Delete"})})]})]})};var E=function(e){var t=e.states,a=e.selectedState,c=e.selectedKey,n=e.currentAssignment,l=e.cancelEditAssignment,i=e.addKey,r=e.modifyKey,o=e.removeKey;return Object(s.jsx)("div",{className:"selected-editassignment-container",children:Object(s.jsx)(B,{states:t,selectedState:a,selectedKey:c,currentAssignment:n,cancelEditAssignment:l,addKey:i,modifyKey:r,removeKey:o})})};var L=function(){return Object(s.jsx)("div",{className:"selected-noselection",children:Object(s.jsx)("span",{children:"Select a key"})})};var M=function(e){var t=e.states,a=e.selectedState,n=e.selectedKey,l=e.selectedKeyStates,i=e.addKey,o=e.modifyKey,d=e.removeKey,j=Object(c.useState)(null),b=Object(r.a)(j,2),u=b[0],y=b[1];Object(c.useEffect)((function(){(u&&!n||u&&n.label!==u.selectedKey.label)&&y(null)}),[u,n]);var m=function(e,t){y({selectedKey:e,currentAssignment:t})},f=t.filter((function(e){return!l.map((function(e){return e.state})).includes(e.name)}));return Object(s.jsx)("div",{className:"selected-container",children:n?u?Object(s.jsx)(E,{states:f,selectedState:a,selectedKey:u.selectedKey,currentAssignment:u.currentAssignment,cancelEditAssignment:function(){y(null)},addKey:i,modifyKey:o,removeKey:d}):Object(s.jsxs)("div",{className:"selected-assignments-container",children:[l.map((function(e,t){return Object(s.jsx)(w,{selectedKey:n,assignment:e,editAssignment:function(){return m(n,e)}},"assign".concat(t))})),Object(s.jsx)(D,{newAssignment:function(){return m(n,null)}})]}):Object(s.jsx)(L,{})})};var P=function(e){var t=e.newConfig,a=e.loadConfig,c=e.saveConfig,n=e.interfaceConfig,l=e.modifyInterface,i=e.states,r=e.selectedState,o=e.setSelectedState,d=e.addState,j=e.modifyState,b=e.removeState,u=e.keys,y=e.selectedKey,m=e.selectedKeyStates,f=e.setSelectedKey,O=e.addKey,h=e.modifyKey,x=e.removeKey;return Object(s.jsx)("div",{className:"body",children:Object(s.jsxs)("div",{className:"body-container",children:[Object(s.jsx)(g,{newConfig:t,loadConfig:a,saveConfig:c,interfaceConfig:n,modifyInterface:l,states:i,selectedState:r,setSelectedState:o,addState:d,modifyState:j,removeState:b}),Object(s.jsx)(C,{keys:u,selectedState:r,selectedKey:y,setSelectedKey:f}),Object(s.jsx)(M,{states:i,selectedState:r,selectedKey:y,selectedKeyStates:m,addKey:O,modifyKey:h,removeKey:x})]})})};var R=function(){var e=Object(c.useState)(b),t=Object(r.a)(e,2),a=t[0],n=t[1],l=Object(c.useState)(!1),i=Object(r.a)(l,2),o=i[0],d=i[1],f=Object(c.useState)(null),O=Object(r.a)(f,2),x=O[0],S=O[1],v=Object(c.useState)(null),k=Object(r.a)(v,2),p=k[0],g=k[1],K=function(e){var t=new FileReader;t.readAsText(e,"UTF-8"),t.onload=function(e){try{var t=JSON.parse(e.target.result),a=j.updateConfig(t);n(a)}catch(e){console.error(e)}}},N=m(a),C=y(a);return Object(s.jsxs)("div",{children:[Object(s.jsx)(h,{}),Object(s.jsx)(P,{newConfig:function(){o?window.confirm("There are unsaved changes in your configuration. Are you sure you want to do this?")&&window.location.reload():window.location.reload()},loadConfig:function(e){o?window.confirm("There are unsaved changes in your configuration. Are you sure you want to do this?")&&K(e):K(e)},saveConfig:function(){var e=document.createElement("a"),t=new Blob([JSON.stringify(a)],{type:"text/plain"});e.href=URL.createObjectURL(t),e.download="dsdconfig.json",document.body.appendChild(e),e.click(),d(!1)},interfaceConfig:{interface:a.interface,controller:a.controller},modifyInterface:function(e,t){var s=Object.assign({},a);s.interface=e,s.controller=t,n(s),d(!0)},states:N,selectedState:x,setSelectedState:S,addState:function(e){var t=Object.assign({},a);t.states.push({name:e.name,color:e.color,keys:[]}),n(t),d(!0)},modifyState:function(e,t){var s=Object.assign({},a),c=s.states.findIndex((function(t){return t.name===e}));s.states[c]={name:t.name,color:t.color,keys:s.states[c].keys},n(s),d(!0)},removeState:function(e){var t=Object.assign({},a);t.states.splice(e,1),n(t),d(!0),S(null)},keys:C,selectedKey:p,selectedKeyStates:function(e,t){if(t&&t.label){var a=e.find((function(e){return e.label===t.label}));if(a&&a.states)return a.states}return[]}(C,p),setSelectedKey:function(e){u(e,p)?g(null):g(e)},addKey:function(e,t,s){var c=Object.assign({},a),l=c.states.findIndex((function(t){return t.name===e}));c.states[l].keys.push({label:t.label,keyData:t.keyData,name:s.name,actions:s.actions}),n(c),d(!0)},modifyKey:function(e,t,s){var c=Object.assign({},a),l=c.states.findIndex((function(t){return t.name===e})),i=c.states[l].keys.findIndex((function(e){return e.label===t.label}));c.states[l].keys[i]={label:t.label,keyData:t.keyData,name:s.name,actions:s.actions},n(c),d(!0)},removeKey:function(e,t){var s=Object.assign({},a),c=s.states.findIndex((function(t){return t.name===e})),l=s.states[c].keys.findIndex((function(e){return e.label===t.label}));s.states[c].keys.splice(l,1),n(s),d(!0)}})]})},J=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,22)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,n=t.getLCP,l=t.getTTFB;a(e),s(e),c(e),n(e),l(e)}))};i.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(R,{})}),document.getElementById("root")),J()}],[[21,1,2]]]);
//# sourceMappingURL=main.3e901096.chunk.js.map